<div class="container" *ngIf="pacientes">
  <div class="btn-volver">
    <button mat-button (click)="goTo()">
      <mat-icon>arrow_back</mat-icon> Volver
    </button>
  </div>

  <h2 class="text-center my-4">Pacientes</h2>
  <button class="btn btn-success" (click)="onDescargarPacientesExcel()">
    Descargar Excel de Pacientes
  </button>
  <div class="row">
    <div
      class="col-sm-6 col-md-4 col-lg-3 mb-4"
      *ngFor="let paciente of pacientes"
    >
      <div class="card h-100" (click)="onCardClick(paciente)">
        <img
          class="card-img-top"
          [src]="paciente.img1"
          alt="Foto del paciente"
          *ngIf="paciente.img1; else defaultImg"
        />
        <ng-template #defaultImg>
          <img
            class="card-img-top"
            src="ruta/a/imagen/default.jpg"
            alt="Imagen por defecto"
          />
        </ng-template>

        <div class="card-body">
          <h5 class="card-title">
            {{ paciente.nombre }} {{ paciente.apellido }}
          </h5>
          <p class="card-text">
            <strong>DNI:</strong> {{ paciente.dni }} <br />
            <strong>Edad:</strong> {{ paciente.edad }} a√±os <br />
            <strong>Email:</strong> {{ paciente.email }} <br />
            <strong>Obra Social:</strong> {{ paciente.obraSocial }}
          </p>
        </div>
      </div>
    </div>
  </div>
</div>

<div *ngIf="pacientes?.length === 0" class="text-center">
  <p>No hay pacientes para mostrar.</p>
</div>

<div class="text-center my-4" *ngIf="showPacientes">
  <app-form-paciente
    *ngIf="showFormComponent"
    (registrationSuccess)="onRegistrationSuccess($event)"
  ></app-form-paciente>
  <button class="btn btn-success" (click)="onAddPacienteAdmin()">
    {{ showFormComponent ? "Cerrar" : "Dar de Alta Paciente" }}
  </button>
</div>
